const questions = {
  facil: [
    {
      question: "Qual planta Ã© conhecida como 'babosa'?",
      options: ["Camomila", "Aloe vera", "HortelÃ£", "Arruda"],
      answer: "Aloe vera"
    },
    {
      question: "Qual planta Ã© usada para aliviar cÃ³licas?",
      options: ["Camomila", "Jambu", "Boldo", "ManjericÃ£o"],
      answer: "Camomila"
    },
    {
      question: "Qual planta tem aroma refrescante e Ã© usada para problemas digestivos?",
      options: ["HortelÃ£", "Alecrim", "Capim-santo", "Arruda"],
      answer: "HortelÃ£"
    },
    {
      question: "Qual planta Ã© usada como calmante natural?",
      options: ["Erva-doce", "Guaco", "Babosa", "Camomila"],
      answer: "Camomila"
    },
    {
      question: "Qual planta ajuda no alÃ­vio de nÃ¡useas?",
      options: ["Gengibre", "Alecrim", "ManjericÃ£o", "Lavanda"],
      answer: "Gengibre"
    },
    {
      question: "Qual planta Ã© conhecida por repelir insetos?",
      options: ["Citronela", "Capim-limÃ£o", "Babosa", "Jasmim"],
      answer: "Citronela"
    },
    {
      question: "Qual planta Ã© usada para dores de estÃ´mago?",
      options: ["Boldo", "Rosa", "Manjerona", "Lavanda"],
      answer: "Boldo"
    },
    {
      question: "Qual planta Ã© conhecida por seu uso em chÃ¡s calmantes?",
      options: ["Capim-santo", "Cacto", "ManjericÃ£o", "Babosa"],
      answer: "Capim-santo"
    },
    {
      question: "Qual planta Ã© muito usada para tratar resfriados?",
      options: ["Guaco", "HortelÃ£", "Arruda", "Arnica"],
      answer: "Guaco"
    },
    {
      question: "Qual planta tem folhas usadas como tempero e chÃ¡ medicinal?",
      options: ["ManjericÃ£o", "Cacto", "LÃ­rio", "Violeta"],
      answer: "ManjericÃ£o"
    }
  ],
  medio: [
    {
      question: "Qual planta tem efeito expectorante natural?",
      options: ["Guaco", "Erva-doce", "Tomilho", "Alecrim"],
      answer: "Guaco"
    },
    {
      question: "O chÃ¡ de qual planta Ã© indicado para insÃ´nia?",
      options: ["Capim-santo", "Lavanda", "Camomila", "Babosa"],
      answer: "Camomila"
    },
    {
      question: "Qual planta Ã© usada como diurÃ©tico natural?",
      options: ["Cavalinha", "Erva-doce", "Alfazema", "Gengibre"],
      answer: "Cavalinha"
    },
    {
      question: "Qual planta tem aÃ§Ã£o digestiva e antiespasmÃ³dica?",
      options: ["Erva-doce", "GuaranÃ¡", "Hibisco", "Cravo-da-Ãndia"],
      answer: "Erva-doce"
    },
    {
      question: "Qual planta Ã© indicada para combater gases intestinais?",
      options: ["Funcho", "Guaco", "Jaborandi", "Alecrim"],
      answer: "Funcho"
    },
    {
      question: "Qual planta Ã© conhecida por estimular o sistema imunolÃ³gico?",
      options: ["EquinÃ¡cea", "Babosa", "Tomilho", "Arruda"],
      answer: "EquinÃ¡cea"
    },
    {
      question: "Qual planta tem propriedade cicatrizante e anti-inflamatÃ³ria?",
      options: ["Babosa", "Manjerona", "Citronela", "Boldo"],
      answer: "Babosa"
    },
    {
      question: "Qual planta Ã© usada como relaxante muscular?",
      options: ["Lavanda", "Capim-santo", "Guaco", "Erva-cidreira"],
      answer: "Erva-cidreira"
    },
    {
      question: "Qual planta Ã© indicada para dor de cabeÃ§a e tensÃ£o nervosa?",
      options: ["Alecrim", "Camomila", "Manjerona", "Lavanda"],
      answer: "Lavanda"
    },
    {
      question: "Qual planta ajuda na circulaÃ§Ã£o sanguÃ­nea?",
      options: ["Ginkgo biloba", "Arnica", "Babosa", "Boldo"],
      answer: "Ginkgo biloba"
    }
  ],
  dificil: [
    {
      question: "Qual planta possui aÃ§Ã£o antissÃ©ptica e Ã© usada em feridas?",
      options: ["CalÃªndula", "Jaborandi", "Carqueja", "GuaranÃ¡"],
      answer: "CalÃªndula"
    },
    {
      question: "Qual parte da Arnica Ã© usada para preparar pomadas anti-inflamatÃ³rias?",
      options: ["Raiz", "Folha", "Flor", "Semente"],
      answer: "Flor"
    },
    {
      question: "Qual planta Ã© indicada para tratar problemas hepÃ¡ticos?",
      options: ["Carqueja", "Lavanda", "Alfazema", "Camomila"],
      answer: "Carqueja"
    },
    {
      question: "Qual planta possui propriedades afrodisÃ­acas e Ã© estimulante?",
      options: ["Catuaba", "Guaco", "Camomila", "Babosa"],
      answer: "Catuaba"
    },
    {
      question: "Qual planta possui saponinas com propriedades anti-inflamatÃ³rias?",
      options: ["Salsaparrilha", "Arruda", "Capim-limÃ£o", "ManjericÃ£o"],
      answer: "Salsaparrilha"
    },
    {
      question: "Qual planta Ã© utilizada no tratamento de caspa e queda de cabelo?",
      options: ["Jaborandi", "Gengibre", "Tomilho", "Cavalinha"],
      answer: "Jaborandi"
    },
    {
      question: "Qual planta medicinal Ã© indicada como depurativa do sangue?",
      options: ["Urtiga", "Lavanda", "Funcho", "Alecrim"],
      answer: "Urtiga"
    },
    {
      question: "Qual planta tem uso tradicional no tratamento da hipertensÃ£o?",
      options: ["Alho", "Babosa", "Erva-doce", "Lavanda"],
      answer: "Alho"
    },
    {
      question: "Qual planta Ã© famosa por seu uso contra infecÃ§Ãµes urinÃ¡rias?",
      options: ["Quebra-pedra", "Tomilho", "Cravo-da-Ãndia", "Jasmim"],
      answer: "Quebra-pedra"
    },
    {
      question: "Qual planta Ã© usada para estimular o apetite em casos de fraqueza?",
      options: ["Genciana", "Erva-cidreira", "Camomila", "Capim-limÃ£o"],
      answer: "Genciana"
    }
  ]
};

let currentQuestionIndex = 0;
let score = 0;
let currentDifficulty = '';
const quizContainer = document.getElementById('quizContainer');

function showPlants() {
  document.getElementById('plantCards').style.display = 'block';
  document.getElementById('quizContainer').style.display = 'none';
  document.getElementById('difficultyOptions').style.display = 'none';
  document.getElementById('footerDev').style.display = 'none';
}

function toggleDifficultyOptions() {
  const container = document.getElementById('difficultyOptions');
  container.style.display = container.style.display === 'none' ? 'block' : 'none';
  document.getElementById('plantCards').style.display = 'none';
  document.getElementById('quizContainer').style.display = 'none';
}

function startQuiz(difficulty) {
  currentDifficulty = difficulty;
  currentQuestionIndex = 0;
  score = 0;

  document.getElementById('footerDev').style.display = 'none';
  document.getElementById('plantCards').style.display = 'none';
  document.getElementById('difficultyOptions').style.display = 'none';
  quizContainer.style.display = 'block';
  showQuestion();
}

// ðŸ” FunÃ§Ã£o para embaralhar as alternativas
function shuffleArray(array) {
  return array
    .map(value => ({ value, sort: Math.random() }))
    .sort((a, b) => a.sort - b.sort)
    .map(({ value }) => value);
}

function showQuestion() {
  const q = questions[currentDifficulty][currentQuestionIndex];
  if (!q) {
    showResult();
    return;
  }

  const shuffledOptions = shuffleArray([...q.options]);

  quizContainer.innerHTML = `
    <div class="quiz-card">
      <div class="question">${q.question}</div>
      <div class="options">
        ${shuffledOptions.map(option => `
          <div class="option" onclick="selectAnswer(this, '${option}')">${option}</div>
        `).join('')}
      </div>
    </div>
  `;
}

function selectAnswer(el, selected) {
  const correct = questions[currentDifficulty][currentQuestionIndex].answer;
  const options = document.querySelectorAll('.option');
  options.forEach(opt => {
    opt.onclick = null;
    if (opt.textContent === correct) {
      opt.classList.add('correct');
    } else if (opt.textContent === selected) {
      opt.classList.add('incorrect');
    }
  });

  if (selected === correct) {
    score++;
  }

  setTimeout(() => {
    currentQuestionIndex++;
    showQuestion();
  }, 1000);
}

function showResult() {
  quizContainer.innerHTML = `
    <div class="result">
      VocÃª acertou ${score} de ${questions[currentDifficulty].length} perguntas!
      <br/>
      <img src="https://cdn-icons-png.flaticon.com/512/616/616490.png" alt="Coroa" />
    </div>
  `;
}
